{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell XPS\\\\Desktop\\\\react practise\\\\react-course-comfy-sloth-starter\\\\src\\\\context\\\\products_context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useContext, useEffect, useReducer } from 'react';\nimport reducer from '../reducers/products_reducer';\nimport { products_url as url } from '../utils/constants';\nimport { SIDEBAR_OPEN, SIDEBAR_CLOSE, GET_PRODUCTS_BEGIN, GET_PRODUCTS_SUCCESS, GET_PRODUCTS_ERROR, GET_SINGLE_PRODUCT_BEGIN, GET_SINGLE_PRODUCT_SUCCESS, GET_SINGLE_PRODUCT_ERROR } from '../actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  issidebaropen: false,\n  products_loading: false,\n  products_error: false,\n  products: [],\n  featured_products: [],\n  singleproduct_loading: false,\n  singleproduct_error: false,\n  single_product: {}\n};\nconst ProductsContext = /*#__PURE__*/React.createContext();\nexport const ProductsProvider = ({\n  children\n}) => {\n  _s();\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const opensidebar = () => {\n    dispatch({\n      type: SIDEBAR_OPEN\n    });\n  };\n\n  const closesidebar = () => {\n    dispatch({\n      type: SIDEBAR_CLOSE\n    });\n  };\n\n  const fetchproducts = async url => {\n    dispatch({\n      type: GET_PRODUCTS_BEGIN\n    });\n\n    try {\n      const response = await axios.get(url);\n      console.log(response);\n      const products = response.data;\n      console.log(products);\n      dispatch({\n        type: GET_PRODUCTS_SUCCESS,\n        payload: products\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_PRODUCTS_ERROR\n      });\n    }\n  };\n\n  useEffect(() => {\n    fetchproducts(url);\n    console.log(fetchproducts(url));\n  }, []);\n\n  const fetchsingleproduct = async url => {\n    dispatch({\n      type: GET_SINGLE_PRODUCT_BEGIN\n    });\n\n    try {\n      const response = await axios.get(url);\n      const singleproduct = response.data;\n      dispatch({\n        type: GET_SINGLE_PRODUCT_SUCCESS,\n        payload: singleproduct\n      });\n    } catch (error) {\n      dispatch({\n        type: GET_SINGLE_PRODUCT_ERROR\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ProductsContext.Provider, {\n    value: { ...state,\n      opensidebar,\n      closesidebar,\n      fetchsingleproduct\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}; // make sure use\n\n_s(ProductsProvider, \"gZZ3TaNWFnk5pxLxmdKGLDXNo7Y=\");\n\n_c = ProductsProvider;\nexport const useProductsContext = () => {\n  _s2();\n\n  return useContext(ProductsContext);\n};\n\n_s2(useProductsContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductsProvider\");","map":{"version":3,"sources":["C:/Users/Dell XPS/Desktop/react practise/react-course-comfy-sloth-starter/src/context/products_context.js"],"names":["axios","React","useContext","useEffect","useReducer","reducer","products_url","url","SIDEBAR_OPEN","SIDEBAR_CLOSE","GET_PRODUCTS_BEGIN","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_ERROR","GET_SINGLE_PRODUCT_BEGIN","GET_SINGLE_PRODUCT_SUCCESS","GET_SINGLE_PRODUCT_ERROR","initialState","issidebaropen","products_loading","products_error","products","featured_products","singleproduct_loading","singleproduct_error","single_product","ProductsContext","createContext","ProductsProvider","children","state","dispatch","opensidebar","type","closesidebar","fetchproducts","response","get","console","log","data","payload","error","fetchsingleproduct","singleproduct","useProductsContext"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React, { useContext, useEffect, useReducer } from 'react'\r\nimport reducer from '../reducers/products_reducer'\r\nimport { products_url as url } from '../utils/constants'\r\nimport {\r\n  SIDEBAR_OPEN,\r\n  SIDEBAR_CLOSE,\r\n  GET_PRODUCTS_BEGIN,\r\n  GET_PRODUCTS_SUCCESS,\r\n  GET_PRODUCTS_ERROR,\r\n  GET_SINGLE_PRODUCT_BEGIN,\r\n  GET_SINGLE_PRODUCT_SUCCESS,\r\n  GET_SINGLE_PRODUCT_ERROR,\r\n} from '../actions'\r\n\r\nconst initialState = {\r\n  issidebaropen : false,\r\n  products_loading : false,\r\n  products_error:false,\r\n  products:[],\r\n  featured_products:[],\r\n  singleproduct_loading:false,\r\n  singleproduct_error:false,\r\n  single_product:{}\r\n}\r\n\r\nconst ProductsContext = React.createContext()\r\n\r\nexport const ProductsProvider = ({ children }) => {\r\n\r\n  const [state,dispatch] = useReducer(reducer,initialState)\r\n\r\nconst opensidebar =() =>{\r\n  dispatch({\r\n    type : SIDEBAR_OPEN\r\n  })\r\n}\r\n\r\nconst closesidebar =() =>{\r\n  dispatch({\r\n    type : SIDEBAR_CLOSE\r\n  })\r\n}\r\n\r\nconst fetchproducts = async(url) =>{\r\n  dispatch({\r\n    type : GET_PRODUCTS_BEGIN\r\n  })\r\n  try{\r\n    const response = await axios.get(url);\r\n    console.log(response);\r\n    const products = response.data\r\n    console.log(products);\r\n  dispatch({\r\n    type: GET_PRODUCTS_SUCCESS,\r\n    payload:products\r\n  })\r\n  }catch(error){\r\n    dispatch({\r\n      type: GET_PRODUCTS_ERROR\r\n    })\r\n  }\r\n  \r\n}\r\n\r\nuseEffect(()=>{\r\n  fetchproducts(url)\r\n  console.log(fetchproducts(url));\r\n},[])\r\n\r\n\r\nconst fetchsingleproduct = async(url) =>{\r\n  dispatch({\r\n    type : GET_SINGLE_PRODUCT_BEGIN\r\n  })\r\n  try{\r\n    const response = await axios.get(url)\r\n    const singleproduct = response.data\r\n    dispatch({\r\n      type: GET_SINGLE_PRODUCT_SUCCESS,\r\n      payload:singleproduct\r\n    })\r\n  }catch(error){\r\n    dispatch({\r\n      type: GET_SINGLE_PRODUCT_ERROR\r\n    })\r\n  }\r\n  \r\n}\r\n\r\n  return (\r\n    <ProductsContext.Provider value={{\r\n      ...state,\r\n      opensidebar,\r\n      closesidebar,\r\n      fetchsingleproduct\r\n    }}>\r\n      {children}\r\n    </ProductsContext.Provider>\r\n  )\r\n}\r\n// make sure use\r\nexport const useProductsContext = () => {\r\n  return useContext(ProductsContext)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}